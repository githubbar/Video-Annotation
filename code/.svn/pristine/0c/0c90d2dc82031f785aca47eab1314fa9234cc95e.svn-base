from PyQt4.QtGui import *
from PyQt4.QtCore import *

        
class VariableWidget(QTableWidget):
    deleteKeyPressed = pyqtSignal()      
    
    def __init__(self, parent):
        QTableWidget.__init__(self, parent)

    def addVariable(self):
        row = self.rowCount()
        self.insertRow(row)
        self.setItem(row,  0,  QTableWidgetItem('unknown'))
        self.setItem(row,  1,  QTableWidgetItem('String'))        
        self.setCellWidget(row, 1, VariableTypeCombo(self))
        self.setItem(row,  2,  QTableWidgetItem(False))
        self.setCellWidget(row, 2, CenteredCheckBox())
        self.setItem(row,  3,  QTableWidgetItem(''))
        self.setItem(row,  4,  QTableWidgetItem(False))
        self.setCellWidget(row, 4, CenteredCheckBox())
        self.setItem(row,  5,  QTableWidgetItem(''))
    
    def removeVariable(self):
        for i in self.selectedItems():
            self.removeRow(i.row())

class CenteredCheckBox(QWidget):
    def __init__(self,  parent = None):
        QWidget.__init__(self, parent)
        layout = QHBoxLayout(self)
        layout.addWidget(QCheckBox())
        layout.setAlignment(Qt.AlignCenter)
        layout.setMargin(0)
        
class VariableTypeCombo(QComboBox):
    def __init__(self,  parent = None):
        QComboBox.__init__(self, parent)
        self.addItems(('String', 'Number', 'Yes/No'))
        

        
